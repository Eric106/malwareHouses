# Python util to get info of  malicious IP/URLs, for network security purposes

## Install enviroment and requeriments
```shell
conda create -n mwh python==3.9.* -y  ; conda activate mwh ; pip install -r requeriments.txt
```


## Setup `config.json` for VirusTotal (API V3) module
Create a json file to store your API key

```json
{
    "api_key": "YourAPIkey"
}
```
Then you can call the module `virus_total_util.VirusTotalAnalyzer` like this
```python
from modules.virus_total_util import VirusTotalAnalyzer
VTA = VirusTotalAnalyzer(config_json='config.json')

scan : dict = VTA.scan_ip('51.15.70.79')
if VTA.is_malicious_ip(scan):
    """
    Code to execute when the ip is malicious
    """
```

## MalwareBytes module
If you have the most recent version of Windows MalwareBytes Premium you can also use my own python module `mb_util.MalwarebytesLogManager` to retrieve the malicious inbound IPs. 
```python
from modules.mb_util import MalwarebytesLogManager

MBM = MalwarebytesLogManager(only_inbound=True)

for ip in MBM.get_inbound_ip_detections():
    """
    then scan the ip for details
    """
```
## Content `main.py` 
This is an example of ip info retrieval from MalwareBytes inbound detections.
https://github.com/Eric106/malwareHouses/blob/da537d266052baeda72fd1b6b7eb15e5502d7791/main.py#L1-L26


##  Output of `main.py` at `out.txt`
